<html>
<body>
    <div id="result-log"></div>

<script>
  async function test() {
    let log = [];

    log.push("enumerateDevices first call");
    let devices = await navigator.mediaDevices.enumerateDevices();
    devices.forEach(d => log.push(d.kind));

    log.push("enumerateDevices second call");
    devices = await navigator.mediaDevices.enumerateDevices();
    devices.forEach(d => log.push(d.kind));

    document.getElementById('result-log').innerText = log.join('<br>');
  }

  test();
</script>
</body>
</html>
