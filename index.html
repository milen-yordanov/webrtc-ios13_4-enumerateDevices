<html>
<body>
    <div id="result-log"></div>

<script>
  async function test() {
    let log = [];

    log.append("enumerateDevices first call");
    let devices = await navigator.mediaDevices.enumerateDevices();
    devices.forEach(d => log.append(d.kind));

    log.append("enumerateDevices second call");
    devices = await navigator.mediaDevices.enumerateDevices();
    devices.forEach(d => log.append(d.kind));

    document.getElementById('result-log').innerText = 'TEST';
  }

  test();
</script>
</body>
</html>
